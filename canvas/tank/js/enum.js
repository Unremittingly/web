/*****
 * 1、河道
 * 2、草丛
 * 3、泥砖
 * 4、刚砖
 * 5、高速路
 * 6、平常路
 */
const RIVER = 1;
const GRASS = 2;
const ADOBE = 3;
const STEEL = 4;
const H_ROAD = 5;
const ROAD = 6;

const OFFSET = 10;
const SCREEN_WIDTH =800;
const SCREEN_HEIGHT =600;
//大图对象
const RESOURCE_IMG = document.getElementById('tankAll');
const RESOURCE_SPRITES = document.getElementById('sprites');
//在大精灵图中的位置
const RIVER_POSITION = {x: 48, y: 96};
const GRASS_POSITION = {x: 32, y: 96};
const ADOBE_POSITION = {x: 0, y: 96};
const STEEL_POSITION = {x: 16, y: 96};
const BOSS_POSITION = {x:256,y:0};

const H_ROAD_POSITION = {x: 80, y: 0};
const ROAD_POSITION = {x: 100, y: 0};
const BOOM_POSITION = {x:164,y:0};
const mapPosToElement = {
    '0':BOSS_POSITION,
    '1':RIVER_POSITION,
    '2':GRASS_POSITION,
    '3':ADOBE_POSITION,
    '4':STEEL_POSITION,
    "5":H_ROAD_POSITION,
    "6":ROAD_POSITION
};

const TOP = 'top';
const RIGHT = 'right';
const BOTTOM = 'bottom';
const LEFT = 'left';

const PROP_PROJECT = 1;
const PROP_ADD =2 ;
const PROP_PROJECT_HOME =3 ;
const PROP_FIRE =4 ;
const PROP_MAX_FIRE =5 ;
const PROP_TIMER = 6;
const PROP_GRENADES = 7;

const GAME_STATE_INIT = 1;//初始化
const GAME_STATE_START = 2;//已经开始
const GAME_STATE_TAS = 3;//过关
const GAME_STATE_OVER = 4;//结束

//用数组保存当前键盘操作   如果不用数组保存会出现转弯卡顿的情况 todo 1
let keys = [];
const KEY_CODE = {
    'top':87,
    'left':65,
    'bottom':83,
    'right':68
};
let keyCode = 0;



const LEVEL_ONE = [
    //1
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
//2
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
//3
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

//4
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

//5
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

//6
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],

    //7
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [3, 3, 6, 6, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 6, 6, 6, 6],

//8
    [4, 4, 6, 6, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 6, 6, 4, 4],
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],

//9
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

    //10
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

    //11
    // [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],


    //12
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 3, 3, 3, 3, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],


    //13
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 0, 0, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 0, 0, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],

];

const LEVEL_TWO =[
    //1
    [6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
//2
    [6, 6, 3, 3, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
//3
    [6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6],

//4
    [6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6],
    [6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 6, 6],

//5
    [2, 2, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 3, 3, 2, 2, 3, 3, 4, 4],
    [2, 2, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 4, 4, 6, 6, 6, 6, 3, 3, 2, 2, 3, 3, 4, 4],

//6
    [2, 2, 2, 2, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 4, 4, 6, 6, 2, 2, 6, 6, 6, 6],
    [2, 2, 2, 2, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 6, 6, 4, 4, 6, 6, 2, 2, 6, 6, 6, 6],

    //7
    [6, 6, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 4, 4, 6, 6, 6, 6, 2, 2, 3, 3, 6, 6],
    [6, 6, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 4, 4, 6, 6, 6, 6, 2, 2, 3, 3, 6, 6],

//8
    [6, 6, 6, 6, 6, 6, 4, 4, 2, 2, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 6, 6, 6, 6, 4, 4, 2, 2, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],

//9
    [4, 4, 3, 3, 6, 6, 4, 4, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6],
    [4, 4, 3, 3, 6, 6, 4, 4, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6],

    //10
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 3, 3, 4, 4, 3, 3, 6, 6],

    //11
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6],


    //12
    [6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 6, 6, 6, 6, 6, 3, 3, 3, 3, 6, 6, 6, 3, 3, 6, 6, 3, 3, 6, 6],


    //13
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 3, 0, 0, 3, 6, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6],
    [6, 6, 3, 3, 6, 6, 3, 3, 6, 6, 6, 3, 0, 0, 3, 6, 6, 6, 3, 3, 3, 3, 3, 3, 6, 6],

];

const LEVEL_ALL = [LEVEL_ONE,LEVEL_TWO];
// LEVEL_ALL.push(LEVEL_ONE);


