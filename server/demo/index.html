<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <style>
        /* css 代码  */
    </style>
    <script src="highcharts.js"></script>
    <script src="exporting.js"></script>
    <script src="sunburst.js"></script>
</head>

<style>
    #container {
        width: 600px;
        height: 600px;
    }
</style>
<body>
<div id="container"></div>
<script>
    // JS 代码
</script>
</body>
<script src="mock.js"></script>
<script>
    Highcharts.setOptions({
        lang: {
            thousandsSep: ','
        }
    });

    var data = mock;


    data = [

        {
            'id': '0.0',
            'parent': '',
            'name': '驾驶舱',
            'value':1
        },

        {
            'id': '1.1',
            'parent': '0.0',
            'name': '旅客服务开发部 IDD',
            'value': 1
        },
        {
            'id': '2.1',
            'parent': '1.1',
            'name': 'ALG研发团队',
            'value': 1
        },
        {
            'id': '3.1',
            'parent': '2.1',
            'name': 'ALG',
            'value': 1
        },

        {
            'id': '2.2',
            'parent': '1.1',
            'name': 'CSM研发团队',
            'value': 1
        },
        {
            'id': '3.2',
            'parent': '2.2',
            'name': 'CSM',
            'value': 1
        },

        {
            'id': '2.3',
            'parent': '1.1',
            'name': 'DEP研发团队',
            'value': 1
        },
        {
            'id': '3.3',
            'parent': '2.3',
            'name': 'DEP',
            'value': 1
        },
        {
            'id': '3.4',
            'parent': '2.3',
            'name': 'GBS',
            'value': 1
        },


        {
            'id': '2.4',
            'parent': '1.1',
            'name': 'FLT研发团队',
            'value': 1
        },
        {
            'id': '3.5',
            'parent': '2.4',
            'name': 'FLT',
            'value': 1
        },


        {
            'id': '2.5',
            'parent': '1.1',
            'name': 'INV研发团队',
            'value': 1
        },
        {
            'id': '3.6',
            'parent': '2.5',
            'name': 'INV',
            'value': 1
        },
        {
            'id': '3.7',
            'parent': '2.5',
            'name': 'SS',
            'value': 1
        },
        {
            'id': '3.8',
            'parent': '2.5',
            'name': 'RMDL',
            'value': 1
        },


        {
            'id': '2.6',
            'parent': '1.1',
            'name': 'LDP研发团队',
            'value': 1
        },
        {
            'id': '3.9',
            'parent': '2.6',
            'name': 'LDP',
            'value': 1
        },


        {
            'id': '2.7',
            'parent': '1.1',
            'name': 'RCT研发团队',
            'value': 1
        },
        {
            'id': '3.10',
            'parent': '2.7',
            'name': 'RCT',
            'value': 1
        },
        {
            'id': '3.11',
            'parent': '2.7',
            'name': 'IROP',
            'value': 1
        },


        {
            'id': '2.8',
            'parent': '1.1',
            'name': 'SEAT研发团队',
            'value': 1
        },
        {
            'id': '3.12',
            'parent': '2.8',
            'name': 'SEAT',
            'value': 1
        },


        {
            'id': '2.9',
            'parent': '1.1',
            'name': '旅服部',
            'value': 1
        },
        {
            'id': '3.13',
            'parent': '2.9',
            'name': 'D环境',
            'value': 1
        },


        {
            'id': '1.2',
            'parent': '0.0',
            'name': '运价系统开发部 PSD',
            'value': 1
        },
        {
            'id': '2.10',
            'parent': '1.2',
            'name': 'AV研发团队',
            'value': 1
        },
        {
            'id': '3.14',
            'parent': '2.10',
            'name': 'AV',
            'value': 1
        },

        {
            'id': '2.11',
            'parent': '1.2',
            'name': 'PRIC研发团队',
            'value': 1
        },
        {
            'id': '3.15',
            'parent': '2.11',
            'name': 'DPRIC',
            'value': 1
        },
        {
            'id': '3.16',
            'parent': '2.11',
            'name': 'ASPRIC',
            'value': 1
        },
        {
            'id': '3.17',
            'parent': '2.11',
            'name': 'DSHOP',
            'value': 1
        },
        {
            'id': '3.18',
            'parent': '2.11',
            'name': 'CATL',
            'value': 1
        },


        {
            'id': '2.12',
            'parent': '1.2',
            'name': 'SHOP研发团队',
            'value': 1
        },
        {
            'id': '3.19',
            'parent': '2.12',
            'name': 'ISHOP',
            'value': 1
        },


        {
            'id': '1.3',
            'parent': '0.0',
            'name': '航空公司销售系统开发部 RTD',
            'value': 1
        },
        {
            'id': '2.13',
            'parent': '1.3',
            'name': 'BKG研发团队',
            'value': 1
        },
        {
            'id': '3.20',
            'parent': '2.13',
            'name': 'BKG',
            'value': 1
        },


        {
            'id': '2.14',
            'parent': '1.3',
            'name': 'DOC研发团队',
            'value': 1
        },
        {
            'id': '3.21',
            'parent': '2.14',
            'name': 'DOC',
            'value': 1
        },
        {
            'id': '3.22',
            'parent': '2.14',
            'name': 'ACNI',
            'value': 1
        },
        {
            'id': '3.23',
            'parent': '2.14',
            'name': 'RPT',
            'value': 1
        },


        {
            'id': '2.15',
            'parent': '1.3',
            'name': 'EBD研发团队',
            'value': 1
        },
        {
            'id': '3.24',
            'parent': '2.15',
            'name': 'EBD',
            'value': 1
        },
        {
            'id': '3.25',
            'parent': '2.15',
            'name': 'SAT',
            'value': 1
        },
        {
            'id': '3.26',
            'parent': '2.15',
            'name': 'Easypay',
            'value': 1
        },
        {
            'id': '3.27',
            'parent': '2.15',
            'name': 'AGG',
            'value': 1
        },


        {
            'id': '2.16',
            'parent': '1.3',
            'name': 'UTL研发团队',
            'value': 1
        },
        {
            'id': '3.28',
            'parent': '2.16',
            'name': 'SRVC',
            'value': 1
        },
        {
            'id': '3.29',
            'parent': '2.16',
            'name': 'MD',
            'value': 1
        },


        {
            'id': '1.4',
            'parent': '0.0',
            'name': '数据服务部 BDA',
            'value': 1
        },
        {
            'id': '2.17',
            'parent': '1.4',
            'name': 'DSS开发组',
            'value': 1
        },
        {
            'id': '3.20',
            'parent': '2.17',
            'name': 'DSS',
            'value': 1
        },


        {
            'id': '2.18',
            'parent': '1.4',
            'name': '民航重点实验室',
            'value': 1
        },
        {
            'id': '3.20',
            'parent': '2.18',
            'name': 'BDR',
            'value': 1
        },


        {
            'id': '2.19',
            'parent': '1.4',
            'name': 'BDP研发团队',
            'value': 1
        },
        {
            'id': '3.21',
            'parent': '2.19',
            'name': 'BDP',
            'value': 1
        },
        {
            'id': '3.22',
            'parent': '2.19',
            'name': 'FTI',
            'value': 1
        },

        {
            'id': '2.20',
            'parent': '1.4',
            'name': 'ODS研发团队',
            'value': 1
        },
        {
            'id': '3.23',
            'parent': '2.20',
            'name': 'ODS',
            'value': 1
        },


        {
            'id': '2.21',
            'parent': '1.4',
            'name': '课题研究团队',
            'value': 1
        },
        {
            'id': '3.24',
            'parent': '2.21',
            'name': 'SRT',
            'value': 1
        },


        {
            'id': '2.22',
            'parent': '1.4',
            'name': '重点实验室',
            'value': 1
        },
        {
            'id': '3.25',
            'parent': '2.22',
            'name': 'Billing',
            'value': 1
        },
        {
            'id': '3.26',
            'parent': '2.22',
            'name': 'TCAI',
            'value': 1
        },


        {
            'id': '1.5',
            'parent': '0.0',
            'name': '机场产品开发于交付部 APD',
            'value': 1
        },
        {
            'id': '2.23',
            'parent': '1.5',
            'name': '旅客产品组',
            'value': 1
        },
        {
            'id': '3.27',
            'parent': '2.23',
            'name': 'SAE',
            'value': 1
        },
        {
            'id': '3.28',
            'parent': '2.23',
            'name': 'ASCII',
            'value': 1
        },
        {
            'id': '3.29',
            'parent': '2.23',
            'name': 'SBD',
            'value': 1
        },
        {
            'id': '3.30',
            'parent': '2.23',
            'name': 'SBG',
            'value': 1
        },
        {
            'id': '3.31',
            'parent': '2.23',
            'name': 'Newapp',
            'value': 1
        },
        {
            'id': '3.32',
            'parent': '2.23',
            'name': 'CUSS',
            'value': 1
        },


        {
            'id': '2.24',
            'parent': '1.5',
            'name': '信息产品组',
            'value': 1
        },
        {
            'id': '3.33',
            'parent': '2.24',
            'name': 'AAPS',
            'value': 1
        },
        {
            'id': '3.34',
            'parent': '2.24',
            'name': 'AMDB',
            'value': 1
        },
        {
            'id': '3.35',
            'parent': '2.24',
            'name': 'ADR',
            'value': 1
        },

        {
            'id': '2.25',
            'parent': '1.5',
            'name': '运营产品组',
            'value': 1
        },
        {
            'id': '3.36',
            'parent': '2.25',
            'name': 'HATSS',
            'value': 1
        },
        {
            'id': '3.37',
            'parent': '2.25',
            'name': 'AOC',
            'value': 1
        },


        {
            'id': '1.6',
            'parent': '0.0',
            'name': '系统维护与主机开发部 AMM',
            'value': 1
        },
        {
            'id': '2.26',
            'parent': '1.6',
            'name': 'TAM研发团队',
            'value': 1
        },
        {
            'id': '3.38',
            'parent': '2.26',
            'name': 'AMS',
            'value': 1
        },
        {
            'id': '3.39',
            'parent': '2.26',
            'name': 'AOS',
            'value': 1
        },


        {
            'id': '2.27',
            'parent': '1.6',
            'name': '订座维护组',
            'value': 1
        },
        {
            'id': '3.40',
            'parent': '2.27',
            'name': 'CRS',
            'value': 1
        },
        {
            'id': '3.41',
            'parent': '2.27',
            'name': 'TDB',
            'value': 1
        },


        {
            'id': '2.28',
            'parent': '1.6',
            'name': '航班业务组',
            'value': 1
        },
        {
            'id': '3.42',
            'parent': '2.28',
            'name': 'AOS',
            'value': 1
        },


        {
            'id': '2.29',
            'parent': '1.6',
            'name': '基础平台组',
            'value': 1
        },
        {
            'id': '3.43',
            'parent': '2.29',
            'name': 'AOS',
            'value': 1
        },


        {
            'id': '2.30',
            'parent': '1.6',
            'name': '离港业务组',
            'value': 1
        },
        {
            'id': '3.44',
            'parent': '2.30',
            'name': 'AOS',
            'value': 1
        },


        {
            'id': '2.31',
            'parent': '1.6',
            'name': '离港业务组 离港维护组',
            'value': 1
        },
        {
            'id': '3.45',
            'parent': '2.31',
            'name': 'DCS',
            'value': 1
        },


        {
            'id': '2.32',
            'parent': '1.6',
            'name': '预定业务组，票证业务组，订座维护组',
            'value': 1
        },
        {
            'id': '3.46',
            'parent': '2.32',
            'name': 'ICS',
            'value': 1
        },

        {
            'id': '2.33',
            'parent': '1.6',
            'name': '运价维护组',
            'value': 1
        },
        {
            'id': '3.47',
            'parent': '2.33',
            'name': 'AOS',
            'value': 1
        },


        {
            'id': '2.34',
            'parent': '1.6',
            'name': '运维管理组',
            'value': 1
        },
        {
            'id': '3.48',
            'parent': '2.34',
            'name': 'P环境',
            'value': 1
        },


        {
            'id': '1.7',
            'parent': '0.0',
            'name': '航空产品开发与交付部 ALD',
            'value': 1
        },
        {
            'id': '2.35',
            'parent': '1.7',
            'name': 'IT产品设计组',
            'value': 1
        },
        {
            'id': '3.49',
            'parent': '2.35',
            'name': 'FE GUI',
            'value': 1
        },
        {
            'id': '3.50',
            'parent': '2.35',
            'name': 'UCL',
            'value': 1
        },
        {
            'id': '3.51',
            'parent': '2.35',
            'name': 'LAMS',
            'value': 1
        },
        {
            'id': '3.52',
            'parent': '2.35',
            'name': 'ICS IGUI',
            'value': 1
        },
        {
            'id': '3.53',
            'parent': '2.35',
            'name': 'WEBCKI',
            'value': 1
        },
        {
            'id': '3.54',
            'parent': '2.35',
            'name': 'CaacCrs',
            'value': 1
        },
        {
            'id': '3.55',
            'parent': '2.35',
            'name': 'PPOMG',
            'value': 1
        },
        {
            'id': '3.56',
            'parent': '2.35',
            'name': 'PLIG',
            'value': 1
        },
        {
            'id': '3.57',
            'parent': '2.35',
            'name': 'AIC',
            'value': 1
        },

        {
            'id': '2.36',
            'parent': '1.7',
            'name': 'RI研发团队',
            'value': 1
        },
        {
            'id': '3.58',
            'parent': '2.36',
            'name': 'SFC',
            'value': 1
        },
        {
            'id': '3.59',
            'parent': '2.36',
            'name': 'RI',
            'value': 1
        },

        {
            'id': '2.37',
            'parent': '1.7',
            'name': '交付与实施团队',
            'value': 1
        },
        {
            'id': '3.60',
            'parent': '2.37',
            'name': 'DM',
            'value': 1
        },


        {
            'id': '2.38',
            'parent': '1.7',
            'name': '零售产品组',
            'value': 1
        },
        {
            'id': '3.61',
            'parent': '2.38',
            'name': 'TRP',
            'value': 1
        },

        {
            'id': '2.39',
            'parent': '1.7',
            'name': '旅客服务产品组',
            'value': 1
        },
        {
            'id': '3.62',
            'parent': '2.39',
            'name': 'APG',
            'value': 1
        },
        {
            'id': '3.63',
            'parent': '2.39',
            'name': 'PE',
            'value': 1
        },
        {
            'id': '3.64',
            'parent': '2.39',
            'name': 'Airline kiosk',
            'value': 1
        },
        {
            'id': '3.65',
            'parent': '2.39',
            'name': 'SPS',
            'value': 1
        },
        {
            'id': '3.66',
            'parent': '2.39',
            'name': 'APO',
            'value': 1
        },


        {
            'id': '2.40',
            'parent': '1.7',
            'name': '商务数据组',
            'value': 1
        },
        {
            'id': '3.67',
            'parent': '2.40',
            'name': 'DFP',
            'value': 1
        },
        {
            'id': '3.68',
            'parent': '2.40',
            'name': 'CLAS',
            'value': 1
        },
        {
            'id': '3.69',
            'parent': '2.40',
            'name': 'MIDT',
            'value': 1
        },
        {
            'id': '3.70',
            'parent': '2.40',
            'name': 'ASTD',
            'value': 1
        },
        {
            'id': '3.71',
            'parent': '2.40',
            'name': 'ABDI',
            'value': 1
        },
        {
            'id': '3.72',
            'parent': '2.40',
            'name': 'MBDI',
            'value': 1
        },

        {
            'id': '2.41',
            'parent': '1.7',
            'name': '收益辅助组',
            'value': 1
        },
        {
            'id': '3.73',
            'parent': '2.41',
            'name': 'RE',
            'value': 1
        },
        {
            'id': '3.74',
            'parent': '2.41',
            'name': 'PSS Auth',
            'value': 1
        },
        {
            'id': '3.75',
            'parent': '2.41',
            'name': 'nRise',
            'value': 1
        },
        {
            'id': '3.76',
            'parent': '2.41',
            'name': 'RMS',
            'value': 1
        },
        {
            'id': '3.77',
            'parent': '2.41',
            'name': 'ACT',
            'value': 1
        },
        {
            'id': '3.78',
            'parent': '2.41',
            'name': 'NRTM',
            'value': 1
        },

        {
            'id': '2.42',
            'parent': '1.7',
            'name': '直销产品组',
            'value': 1
        },

        {
            'id': '3.79',
            'parent': '2.42',
            'name': 'CDP',
            'value': 1
        },


        {
            'id': '2.43',
            'parent': '1.7',
            'name': 'ALG研发团队',
            'value': 1
        },
        {
            'id': '3.80',
            'parent': '2.43',
            'name': 'nRise',
            'value': 1
        },


        {
            'id': '1.8',
            'parent': '0.0',
            'name': '基础平台开发部 BPD',
            'value': 1
        },
        {
            'id': '2.44',
            'parent': '1.8',
            'name': 'JCF研发团队',
            'value': 1
        },
        {
            'id': '3.81',
            'parent': '2.44',
            'name': 'JCFC',
            'value': 1
        },
        {
            'id': '3.82',
            'parent': '2.44',
            'name': 'JCF',
            'value': 1
        },

        {
            'id': '2.45',
            'parent': '1.8',
            'name': 'MDCS组',
            'value': 1
        },
        {
            'id': '3.83',
            'parent': '2.45',
            'name': 'MDCS',
            'value': 1
        },

        {
            'id': '2.46',
            'parent': '1.8',
            'name': 'TOSF研发团队',
            'value': 1
        },
        {
            'id': '3.84',
            'parent': '2.46',
            'name': 'TOSFC',
            'value': 1
        },
        {
            'id': '3.85',
            'parent': '2.46',
            'name': 'TODE',
            'value': 1
        },

        {
            'id': '2.47',
            'parent': '1.8',
            'name': 'TSI研发团队',
            'value': 1
        },
        {
            'id': '3.86',
            'parent': '2.47',
            'name': 'eTerm',
            'value': 1
        },
        {
            'id': '3.87',
            'parent': '2.47',
            'name': 'IAM',
            'value': 1
        },
        {
            'id': '3.88',
            'parent': '2.47',
            'name': 'TUMS',
            'value': 1
        },
        {
            'id': '3.89',
            'parent': '2.47',
            'name': 'SIH',
            'value': 1
        },
        {
            'id': '3.90',
            'parent': '2.47',
            'name': 'MUSE',
            'value': 1
        },
        {
            'id': '3.91',
            'parent': '2.47',
            'name': 'MES',
            'value': 1
        },
        {
            'id': '3.92',
            'parent': '2.47',
            'name': 'TAMS',
            'value': 1
        },
        {
            'id': '3.93',
            'parent': '2.47',
            'name': 'MCSS',
            'value': 1
        },
        {
            'id': '3.94',
            'parent': '2.47',
            'name': 'TLH',
            'value': 1
        },

        {
            'id': '2.48',
            'parent': '1.8',
            'name': 'TUBA研发开发团队',
            'value': 1
        },
        {
            'id': '3.95',
            'parent': '2.48',
            'name': 'TUBA',
            'value': 1
        },

        {
            'id': '2.49',
            'parent': '1.8',
            'name': '开发平台组',
            'value': 1
        },
        {
            'id': '3.96',
            'parent': '2.49',
            'name': 'TIM',
            'value': 1
        },
        {
            'id': '3.97',
            'parent': '2.49',
            'name': 'TCD',
            'value': 1
        },
        {
            'id': '3.98',
            'parent': '2.49',
            'name': 'TCI',
            'value': 1
        },
        {
            'id': '3.99',
            'parent': '2.49',
            'name': 'TOD',
            'value': 1
        },
        {
            'id': '3.100',
            'parent': '2.49',
            'name': 'TPL',
            'value': 1
        },
        {
            'id': '3.101',
            'parent': '2.49',
            'name': 'TCSM',
            'value': 1
        },

        {
            'id': '2.50',
            'parent': '1.8',
            'name': '信息安全组',
            'value': 1
        },
        {
            'id': '3.102',
            'parent': '2.50',
            'name': 'PSCL',
            'value': 1
        },

    ];


    // Splice in transparent for the center circle
    Highcharts.getOptions().colors.splice(0, 0, 'transparent');
    Highcharts.chart('container', {

        chart: {
            height: '100%'
        },

        title: {
            text: '部门列表'
        },
        credits: {
            enabled: false
        },

        series: [{
            type: "sunburst",
            data: data,
            allowDrillToNode: true,
            cursor: 'pointer',
            dataLabels: {
                /**
                 * A custom formatter that returns the name only if the inner arc
                 * is longer than a certain pixel size, so the shape has place for
                 * the label.
                 */
                formatter: function () {
                    
                    
                    var shape = this.point.node.shapeArgs;

                    var innerArcFraction = (shape.end - shape.start) / (2 * Math.PI);
                    var perimeter = 2 * Math.PI * shape.innerR;

                    var innerArcPixels = innerArcFraction * perimeter;

                    console.log('this.',this.point.name,innerArcPixels);
                    if (innerArcPixels > 16) {

                    }
                    return this.point.name;
                }
            },
            levels: [{
                level: 2,

                colorByPoint: true,
                dataLabels: {
                    rotationMode: 'parallel'
                }
            },
                {
                    level: 3,
                    colorVariation: {
                        key: 'brightness',
                        to: -0.5
                    }
                }, {
                    level: 4,
                    colorVariation: {
                        key: 'brightness',
                        to: 0.5
                    }
                }]

        }],
        tooltip: {
            headerFormat: "",
            pointFormat: '<b>{point.name}</b></b>'
        }
    });
</script>
</html>